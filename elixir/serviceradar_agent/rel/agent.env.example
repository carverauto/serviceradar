# ServiceRadar Agent Configuration
# Copy to /etc/serviceradar/agent.env and customize

# =============================================================================
# Agent Identification
# =============================================================================
AGENT_PARTITION_ID=default
# AGENT_ID will be auto-generated from hostname if not set
# AGENT_ID=agent-myhost-001
AGENT_CAPABILITIES=disk,process,ping

# =============================================================================
# Cluster Configuration
# =============================================================================
CLUSTER_ENABLED=true

# Cluster strategy: epmd, dns, kubernetes, gossip
CLUSTER_STRATEGY=epmd

# For EPMD strategy: comma-separated list of nodes to join
# Example: poller@192.168.1.10,serviceradar@192.168.1.20
CLUSTER_HOSTS=

# For DNS strategy
# CLUSTER_DNS_QUERY=serviceradar.local
# CLUSTER_NODE_BASENAME=serviceradar

# For Kubernetes strategy
# NAMESPACE=serviceradar
# KUBERNETES_SELECTOR=app=serviceradar
# CLUSTER_CORE_SERVICE=serviceradar-core-elx-headless

# For Gossip strategy
# CLUSTER_GOSSIP_PORT=45892
# CLUSTER_GOSSIP_SECRET=your-secret-here

# =============================================================================
# SPIFFE/mTLS Configuration
# =============================================================================
SPIFFE_MODE=filesystem
SPIFFE_TRUST_DOMAIN=serviceradar.local
SPIFFE_CERT_DIR=/etc/serviceradar/certs

# For SPIRE Workload API mode
# SPIFFE_MODE=workload_api
# SPIFFE_WORKLOAD_API_SOCKET=unix:///run/spire/sockets/agent.sock

# =============================================================================
# Erlang Distribution
# =============================================================================
# Cookie must match all nodes in the cluster
ERLANG_COOKIE=serviceradar_cluster_cookie

# Node name (auto-generated from hostname if not set)
# RELEASE_NODE=agent@192.168.1.100

# Enable TLS distribution
ENABLE_TLS_DIST=true

# =============================================================================
# External Checkers (gRPC)
# =============================================================================
# Addresses of external checker processes
CHECKER_SNMP_ADDR=localhost:50052
CHECKER_WMI_ADDR=localhost:50053
CHECKER_SWEEP_ADDR=localhost:50054

# =============================================================================
# Logging
# =============================================================================
# Log level: debug, info, warning, error
LOG_LEVEL=info
