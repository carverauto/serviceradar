defmodule ServiceRadar.Repo.Migrations.AddTraceSummaryFields do
  @moduledoc """
  Updates resources based on their most recent snapshots.

  This file was autogenerated with `mix ash_postgres.generate_migrations`
  """

  use Ecto.Migration

  

  def up do
    alter table(:otel_trace_summaries) do
modify :time_bucket, :utc_datetime, null: true
add :timestamp, :utc_datetime, null: false
add :duration_ms, :float
add :status_code, :bigint, default: 0
end

  end

  def down do
    alter table(:otel_trace_summaries) do
remove :status_code
remove :duration_ms
remove :timestamp
modify :time_bucket, :utc_datetime, null: false
end

  end
end
