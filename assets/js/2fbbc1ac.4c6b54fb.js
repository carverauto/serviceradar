"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[351],{3881:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var i=s(8101);const r={},t=i.createContext(r);function o(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:n},e.children)}},9612:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"auth-configuration","title":"Authentication Configuration","description":"ServiceRadar supports user authentication to secure access to the monitoring dashboard and API. This guide explains how to configure authentication options, including the local user authentication system.","source":"@site/docs/auth-configuration.md","sourceDirName":".","slug":"/auth-configuration","permalink":"/docs/auth-configuration","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10,"title":"Authentication Configuration"},"sidebar":"tutorialSidebar","previous":{"title":"Sync Service Configuration","permalink":"/docs/sync"}}');var r=s(5105),t=s(3881);const o={sidebar_position:10,title:"Authentication Configuration"},c="Authentication Configuration",a={},l=[{value:"Overview",id:"overview",level:2},{value:"Authentication Configuration",id:"authentication-configuration-1",level:2},{value:"Configuration Options",id:"configuration-options",level:3},{value:"Local User Authentication",id:"local-user-authentication",level:2},{value:"Adding Local Users",id:"adding-local-users",level:3},{value:"Generating Password Hashes",id:"generating-password-hashes",level:4},{value:"Example Configuration",id:"example-configuration",level:3},{value:"CORS Configuration",id:"cors-configuration",level:2},{value:"Configuration Options",id:"configuration-options-1",level:3},{value:"Login Workflow",id:"login-workflow",level:2},{value:"Security Best Practices",id:"security-best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Authentication Failures",id:"authentication-failures",level:3},{value:"CORS Issues",id:"cors-issues",level:3},{value:"Viewing Active Sessions",id:"viewing-active-sessions",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"authentication-configuration",children:"Authentication Configuration"})}),"\n",(0,r.jsx)(n.p,{children:"ServiceRadar supports user authentication to secure access to the monitoring dashboard and API. This guide explains how to configure authentication options, including the local user authentication system."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"ServiceRadar's authentication system provides:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Local user authentication with secure password storage"}),"\n",(0,r.jsx)(n.li,{children:"JWT (JSON Web Token) based sessions"}),"\n",(0,r.jsx)(n.li,{children:"Configurable token expiration"}),"\n",(0,r.jsx)(n.li,{children:"CORS (Cross-Origin Resource Sharing) settings for API security"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"authentication-configuration-1",children:"Authentication Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["Authentication is configured in the core service configuration file (",(0,r.jsx)(n.code,{children:"/etc/serviceradar/core.json"}),") under the ",(0,r.jsx)(n.code,{children:"auth"})," section:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"auth": {\n    "jwt_secret": "your-secret-key-here",\n    "jwt_expiration": "24h",\n    "local_users": {\n        "admin": "$2a$18$8cTFzZ6ISuSrxCeO1oL9EOc/zy.cvGO9GhsE9jVo2i.tCzsasdadf"\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Required"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"jwt_secret"})}),(0,r.jsx)(n.td,{children:"Secret key used to sign JWT tokens"}),(0,r.jsx)(n.td,{children:"N/A"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"jwt_expiration"})}),(0,r.jsx)(n.td,{children:'Token validity duration (e.g., "24h", "7d")'}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'"24h"'})}),(0,r.jsx)(n.td,{children:"No"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"local_users"})}),(0,r.jsx)(n.td,{children:"Map of username to bcrypt-hashed passwords"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"{}"})}),(0,r.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"local-user-authentication",children:"Local User Authentication"}),"\n",(0,r.jsx)(n.p,{children:"ServiceRadar supports local user authentication with usernames and bcrypt-hashed passwords. This is a simple and secure method for small deployments where external authentication systems are not required."}),"\n",(0,r.jsx)(n.h3,{id:"adding-local-users",children:"Adding Local Users"}),"\n",(0,r.jsxs)(n.p,{children:["Local users are defined in the ",(0,r.jsx)(n.code,{children:"local_users"})," map, where each key is a username and each value is a bcrypt-hashed password."]}),"\n",(0,r.jsx)(n.h4,{id:"generating-password-hashes",children:"Generating Password Hashes"}),"\n",(0,r.jsx)(n.p,{children:"You can generate bcrypt password hashes using various tools:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Using the ServiceRadar CLI tool"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'serviceradar-tools hash-password "your-password-here"\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Using Python"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import bcrypt\npassword = "your-password-here"\nsalt = bcrypt.gensalt(10)  # Cost factor of 10\nhashed = bcrypt.hashpw(password.encode(), salt)\nprint(hashed.decode())\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Using Node.js"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const bcrypt = require('bcrypt');\nconst password = \"your-password-here\";\nconst saltRounds = 10;\nbcrypt.hash(password, saltRounds, function(err, hash) {\n    console.log(hash);\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"example-configuration",children:"Example Configuration"}),"\n",(0,r.jsx)(n.p,{children:"Here's an example configuration with multiple local users:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"auth": {\n    "jwt_secret": "random-secure-secret-key",\n    "jwt_expiration": "8h",\n    "local_users": {\n        "admin": "$2a$10$7cTFzX6ISkSrxCeO1ZL2EOc/zy.cvGO9GhsE9jVo2i.tCzsiowoiC",\n        "operator": "$2a$10$1xJ0APzN9X7KVXGn1VUGzu9KUb2CV4QNjr0REQ6Kc9ByWbmOSgiS2",\n        "readonly": "$2a$10$t4XyaM3FGl9KGCqUJWZVreo4YWN7.CFsvGFuQ0H0JfylEJd0IMPZa"\n    }\n}\n'})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Security Note:"})," Always use a strong, random string for ",(0,r.jsx)(n.code,{children:"jwt_secret"})," and never share it. This key is used to sign authentication tokens, and if compromised, could allow unauthorized access to your ServiceRadar instance."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"cors-configuration",children:"CORS Configuration"}),"\n",(0,r.jsx)(n.p,{children:"Cross-Origin Resource Sharing (CORS) settings control which domains can access your ServiceRadar API. This is important when your web UI is hosted on a different domain than your API."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"cors": {\n    "allowed_origins": ["https://demo-staging.serviceradar.cloud", "http://localhost:3000"],\n    "allow_credentials": true\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-options-1",children:"Configuration Options"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Required"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"allowed_origins"})}),(0,r.jsx)(n.td,{children:"List of allowed origins (domains)"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'["*"]'})}),(0,r.jsx)(n.td,{children:"No"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"allow_credentials"})}),(0,r.jsx)(n.td,{children:"Whether credentials are allowed"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})}),(0,r.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"login-workflow",children:"Login Workflow"}),"\n",(0,r.jsx)(n.p,{children:"The authentication workflow for ServiceRadar:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["User sends credentials (username and password) to ",(0,r.jsx)(n.code,{children:"/api/auth/login"})]}),"\n",(0,r.jsx)(n.li,{children:"The system validates credentials against configured local users"}),"\n",(0,r.jsx)(n.li,{children:"If valid, a JWT token is issued with the configured expiration time"}),"\n",(0,r.jsxs)(n.li,{children:["The client includes this token in subsequent requests in the ",(0,r.jsx)(n.code,{children:"Authorization"})," header"]}),"\n",(0,r.jsx)(n.li,{children:"The token is automatically refreshed during active sessions"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"security-best-practices",children:"Security Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Use Strong Passwords"}),": Ensure all user accounts have strong, unique passwords."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Change Default Credentials"}),": Always change the default admin password after installation."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Use HTTPS"}),": Configure your web server to use HTTPS to encrypt authentication traffic."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Set Appropriate Token Expiration"}),": Balance security and convenience by setting an appropriate JWT expiration time."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Limit Allowed Origins"}),": In production, specify only the domains that need to access your API in the ",(0,r.jsx)(n.code,{children:"allowed_origins"})," list."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Rotate JWT Secret"}),": Periodically update your ",(0,r.jsx)(n.code,{children:"jwt_secret"})," to mitigate the risk of token-based attacks."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"authentication-failures",children:"Authentication Failures"}),"\n",(0,r.jsx)(n.p,{children:"If users are unable to log in:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Verify the username exists in the ",(0,r.jsx)(n.code,{children:"local_users"})," map"]}),"\n",(0,r.jsx)(n.li,{children:"Check that the password hash is correctly formatted (bcrypt format)"}),"\n",(0,r.jsxs)(n.li,{children:["Ensure the ",(0,r.jsx)(n.code,{children:"jwt_secret"})," has not been changed since the token was issued"]}),"\n",(0,r.jsxs)(n.li,{children:["Verify the token has not expired (based on ",(0,r.jsx)(n.code,{children:"jwt_expiration"})," setting)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"cors-issues",children:"CORS Issues"}),"\n",(0,r.jsx)(n.p,{children:"If web clients receive CORS errors:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Check that the client's domain is included in the ",(0,r.jsx)(n.code,{children:"allowed_origins"})," list"]}),"\n",(0,r.jsxs)(n.li,{children:["Verify the ",(0,r.jsx)(n.code,{children:"allow_credentials"})," setting matches your requirements"]}),"\n",(0,r.jsx)(n.li,{children:"Ensure the client is properly sending the required CORS headers"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"viewing-active-sessions",children:"Viewing Active Sessions"}),"\n",(0,r.jsx)(n.p,{children:"Currently, ServiceRadar does not provide a UI for viewing active sessions. If you need to force logout a user, you can:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Change the ",(0,r.jsx)(n.code,{children:"jwt_secret"})," (which will invalidate all existing tokens)"]}),"\n",(0,r.jsx)(n.li,{children:"Restart the core service"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Learn more about ",(0,r.jsx)(n.a,{href:"/docs/sync",children:"ServiceRadar Sync Service"})]}),"\n",(0,r.jsxs)(n.li,{children:["Set up ",(0,r.jsx)(n.a,{href:"/docs/tls-security",children:"TLS Security"})," for secure communications"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);