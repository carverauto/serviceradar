===============================================================================
=                          ServiceRadar Debug Tools                          =
===============================================================================

[*] DEBUGGING COMMANDS:
    test-connectivity    - Test all service connectivity
    nats-js-status       - Show NATS JetStream status
    test-grpc            - Health check all gRPC services
    nats-cert-check      - Diagnose NATS certificate issues

[*] PROTON HELPERS:
    proton-cli           - Proton client wrapper (mTLS defaults)
    proton-sql <SQL>     - Run SQL (e.g. proton-sql "SELECT 1")
    proton_sql <SQL>     - Bash helper (login shells only)
    proton-version       - Print Proton server version via SQL
    proton-info          - Show host/port/database/password source

[*] PASSWORD SOURCE:
    /etc/serviceradar/credentials/proton-password (secret mount)
    Override with PROTON_PASSWORD or PROTON_PASSWORD_FILE if required.

[*] NATS ALIASES:
    nats-info            - Show NATS server information
    nats-streams         - List all JetStream streams
    nats-events          - Show events stream details
    nats-datasvc              - Show KV store stream details
    nats --context serviceradar <cmd>  - Run CLI with bundled TLS context

[*] gRPC ALIASES:
    grpc-core            - Connect to core gRPC (supply method after alias)
    grpc-agent           - Connect to agent gRPC
    grpc-mapper          - Connect to mapper gRPC
    grpc-trapd           - Connect to trapd gRPC

[*] QUICK TESTS:
    nc-nats              - Test NATS TCP connectivity
    ping-nats            - Ping NATS server
    sr-devices           - List devices via ServiceRadar CLI

[*] CERT LOCATIONS:
    /etc/serviceradar/certs/root.pem       - Root CA
    /etc/serviceradar/certs/client.pem     - Client certificate
    /etc/serviceradar/certs/client-key.pem - Client private key

[*] NATS CONTEXT: Auto-configured with proper FQDN and mTLS

[+] STATUS: TLS certs, Proton helpers, JetStream aliases all ready to use

[!] READY TO USE: MOTD appears on login; environment auto-loads helpers

===============================================================================
NATS Configuration Context "serviceradar"

   Description: ServiceRadar NATS Context for Debugging
   Server URLs: tls://serviceradar-nats.serviceradar-staging.svc.cluster.local:4222
   Certificate: /etc/serviceradar/certs/client.pem (OK)
           Key: /etc/serviceradar/certs/client-key.pem (OK)
            CA: /etc/serviceradar/certs/root.pem (OK)
  Inbox Prefix: _INBOX
          Path: /root/.config/nats/context/serviceradar.json

WARNING: Shell environment overrides in place using NATS_URL
âœ“ ServiceRadar debugging environment configured
